"use strict";(self.webpackChunkemailclient=self.webpackChunkemailclient||[]).push([[62],{2062:(N,u,s)=>{s.r(u),s.d(u,{InboxModule:()=>A});var r=s(6895),m=s(8085),t=s(8256),f=s(384),_=s(529);let c=(()=>{class e{constructor(i){this.http=i,this.rootUrl="https://api.angular-email.com"}getEmails(){return this.http.get(`${this.rootUrl}/emails`)}getEmail(i){return this.http.get(`${this.rootUrl}/emails/${i}`)}sendEmail(i){return this.http.post(`${this.rootUrl}/emails`,i)}static#t=this.\u0275fac=function(n){return new(n||e)(t.LFG(_.eN))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const v=[[["","modalTitle",""]],"*",[["","modalFooter",""]]],g=["[modalTitle]","*","[modalFooter]"];let d=(()=>{class e{constructor(i){this.ele=i,this.dismiss=new t.vpe}ngOnInit(){document.body.appendChild(this.ele.nativeElement)}ngOnDestroy(){this.ele.nativeElement.remove()}onDismissClick(){this.dismiss.emit()}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(t.SBq))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-modal"]],outputs:{dismiss:"dismiss"},ngContentSelectors:g,decls:12,vars:0,consts:[[1,"ui","dimmer","visible","active",3,"click"],[1,"ui","modal","visible","active",3,"click"],[1,"close","icon",3,"click"],[1,"header"],[1,"content"],[1,"actions","actions-default"],[1,"ui","button","primary",3,"click"],[1,"actions"]],template:function(n,o){1&n&&(t.F$t(v),t.TgZ(0,"div",0),t.NdJ("click",function(){return o.onDismissClick()}),t.TgZ(1,"div",1),t.NdJ("click",function(I){return I.stopPropagation()}),t.TgZ(2,"i",2),t.NdJ("click",function(){return o.onDismissClick()}),t.qZA(),t.TgZ(3,"div",3),t.Hsn(4),t.qZA(),t.TgZ(5,"div",4),t.Hsn(6,1),t.qZA(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return o.onDismissClick()}),t._uU(9,"Ok"),t.qZA()(),t.TgZ(10,"div",7),t.Hsn(11,2),t.qZA()()())},styles:[".actions[_ngcontent-%COMP%]:empty{display:none}.actions-default[_ngcontent-%COMP%]{display:none}.actions[_ngcontent-%COMP%]:empty + .actions[_ngcontent-%COMP%]:default{display:block}"]})}return e})();var a=s(433),C=s(235);let h=(()=>{class e{constructor(){this.emailSubmit=new t.vpe}ngOnInit(){const{subject:i,from:n,to:o,text:l}=this.email;this.emailForm=new a.cw({to:new a.NI(o,[a.kI.required,a.kI.email]),from:new a.NI({value:n,disabled:!0}),subject:new a.NI(i,[a.kI.required]),text:new a.NI(l,[a.kI.required])})}onSubmit(){this.emailForm.invalid||this.emailSubmit.emit(this.emailForm.value)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-email-form"]],inputs:{email:"email"},outputs:{emailSubmit:"emailSubmit"},decls:7,vars:5,consts:[[1,"ui","form",3,"formGroup","ngSubmit"],["inputType","email","label","To",3,"control"],["inputType","email","label","From",3,"control"],["inputType","text","label","Subject",3,"control"],["controlType","textarea","label","Content",3,"control"],[1,"ui","button","primary"]],template:function(n,o){1&n&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t._UZ(1,"app-input",1)(2,"app-input",2)(3,"app-input",3)(4,"app-input",4),t.TgZ(5,"button",5),t._uU(6,"Send"),t.qZA()()),2&n&&(t.Q6J("formGroup",o.emailForm),t.xp6(1),t.Q6J("control",o.emailForm.get("to")),t.xp6(1),t.Q6J("control",o.emailForm.get("from")),t.xp6(1),t.Q6J("control",o.emailForm.get("subject")),t.xp6(1),t.Q6J("control",o.emailForm.get("text")))},dependencies:[C.a,a._Y,a.JL,a.sg]})}return e})();function T(e,p){if(1&e){const i=t.EpF();t.TgZ(0,"app-modal",2),t.NdJ("dismiss",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.showModal=!1)}),t.TgZ(1,"div",3),t._uU(2,"Compose"),t.qZA(),t.TgZ(3,"app-email-form",4),t.NdJ("emailSubmit",function(o){t.CHM(i);const l=t.oxw();return t.KtG(l.onSubmit(o))}),t.qZA()()}if(2&e){const i=t.oxw();t.xp6(3),t.Q6J("email",i.email)}}let y=(()=>{class e{constructor(i,n){this.authService=i,this.emailService=n,this.showModal=!1,this.email={id:"",to:"",subject:"",text:"",html:"",from:`${i.username}@angular-email.com`}}ngOnInit(){}onSubmit(i){this.emailService.sendEmail(i).subscribe(()=>{this.showModal=!1})}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(f.e),t.Y36(c))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-email-create"]],decls:3,vars:1,consts:[[1,"ui","button","inverted","primary",3,"click"],[3,"dismiss",4,"ngIf"],[3,"dismiss"],["modalTitle",""],[3,"email","emailSubmit"]],template:function(n,o){1&n&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return o.showModal=!0}),t._uU(1," Compose\n"),t.qZA(),t.YNc(2,T,4,1,"app-modal",1)),2&n&&(t.xp6(2),t.Q6J("ngIf",o.showModal))},dependencies:[r.O5,d,h],styles:[".ui.button.primary[_ngcontent-%COMP%]{margin-bottom:1rem}"]})}return e})();function Z(e,p){if(1&e&&(t.TgZ(0,"div",2)(1,"a",3)(2,"div",4)(3,"div",5),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.qZA()()()()),2&e){const i=p.$implicit;t.xp6(1),t.Q6J("routerLink",i.id),t.xp6(3),t.Oqu(i.subject),t.xp6(2),t.hij(" ",i.from," ")}}let b=(()=>{class e{constructor(i){this.emailService=i,this.emails=[]}ngOnInit(){this.emailService.getEmails().subscribe(i=>{this.emails=i})}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(c))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-email-index"]],decls:2,vars:1,consts:[[1,"ui","celled","list"],["class","item",4,"ngFor","ngForOf"],[1,"item"],["routerLinkActive","active",3,"routerLink"],[1,"content"],[1,"header"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.YNc(1,Z,7,3,"div",1),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngForOf",o.emails))},dependencies:[r.sg,m.rH,m.Od],styles:['.item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}a.active[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-self:center}a.active[_ngcontent-%COMP%]:before{content:">";font-size:20px;margin-right:10px}']})}return e})(),x=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-home"]],decls:6,vars:0,consts:[[1,"ui","grid","stackable"],[1,"five","wide","column"],[1,"eleven","wide","column"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-email-create")(3,"app-email-index"),t.qZA(),t.TgZ(4,"div",2),t._UZ(5,"router-outlet"),t.qZA()())},dependencies:[m.lC,y,b]})}return e})(),F=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-placholder"]],decls:4,vars:0,consts:[[1,"ui","placeholder","segment"],[1,"ui","icon","header"],[1,"envelope","outline","icon"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"i",2),t._uU(3," Email "),t.qZA()())}})}return e})();function E(e,p){if(1&e){const i=t.EpF();t.TgZ(0,"app-modal",2),t.NdJ("dismiss",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.showModal=!1)}),t.TgZ(1,"div",3),t._uU(2,"Reply"),t.qZA(),t.TgZ(3,"app-email-form",4),t.NdJ("emailSubmit",function(o){t.CHM(i);const l=t.oxw();return t.KtG(l.onSubmit(o))}),t.qZA()()}if(2&e){const i=t.oxw();t.xp6(3),t.Q6J("email",i.email)}}let S=(()=>{class e{constructor(i){this.emailService=i,this.showModal=!1}ngOnInit(){this.email={...this.email,from:this.email.to,to:this.email.from,subject:`RE: ${this.email.subject}`}}onSubmit(i){this.emailService.sendEmail(i).subscribe(()=>{this.showModal=!1})}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(c))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-email-reply"]],inputs:{email:"email"},decls:3,vars:1,consts:[[1,"ui","button","primary",3,"click"],[3,"dismiss",4,"ngIf"],[3,"dismiss"],["modalTitle",""],[3,"email","emailSubmit"]],template:function(n,o){1&n&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return o.showModal=!0}),t._uU(1,"Reply"),t.qZA(),t.YNc(2,E,4,1,"app-modal",1)),2&n&&(t.xp6(2),t.Q6J("ngIf",o.showModal))},dependencies:[r.O5,d,h]})}return e})(),w=(()=>{class e{constructor(i,n){this.route=i,this.emailService=n,this.route.data.subscribe(({email:o})=>{this.email=o})}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(m.gz),t.Y36(c))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-email-show"]],decls:16,vars:5,consts:[[1,"header"],[3,"email"],[1,"ui","divider"],[3,"innerHTML"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div")(2,"h3"),t._uU(3),t.qZA()(),t.TgZ(4,"div"),t._uU(5," From : "),t.TgZ(6,"i"),t._uU(7),t.qZA()(),t.TgZ(8,"div"),t._uU(9," To : "),t.TgZ(10,"i"),t._uU(11),t.qZA()(),t.TgZ(12,"div"),t._UZ(13,"app-email-reply",1),t.qZA()(),t._UZ(14,"div",2)(15,"div",3)),2&n&&(t.xp6(3),t.Oqu(o.email.subject),t.xp6(4),t.Oqu(o.email.from),t.xp6(4),t.Oqu(o.email.to),t.xp6(2),t.Q6J("email",o.email),t.xp6(2),t.Q6J("innerHTML",o.email.html,t.oJD))},dependencies:[S],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}"]})}return e})();var M=s(262),J=s(515);const k=[{path:"",component:x,children:[{path:"not-found",component:(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-not-found"]],decls:4,vars:0,consts:[[1,"ui","placeholder","segment"],[1,"ui","icon","header"],[1,"search","icon"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"i",2),t._uU(3," Email not found "),t.qZA()())}})}return e})()},{path:":id",component:w,resolve:{email:(()=>{class e{constructor(i,n){this.emailService=i,this.router=n}resolve(i){const{id:n}=i.params;return this.emailService.getEmail(n).pipe((0,M.K)(()=>(this.router.navigate(["inbox/not-found"]),J.E)))}static#t=this.\u0275fac=function(n){return new(n||e)(t.LFG(c),t.LFG(m.F0))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()}},{path:"",component:F}]}];let O=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(k),m.Bz]})}return e})();var U=s(4466);let A=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[r.ez,O,U.m,a.UX]})}return e})()}}]);